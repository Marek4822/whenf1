{"ast":null,"code":"const API_BASE_URL = \"http://localhost:5000\";\nconst fetchWithTimeout = async (url, options = {}, timeout = 60000) => {\n  const controller = new AbortController();\n  const id = setTimeout(() => controller.abort(), timeout);\n  try {\n    const response = await fetch(url, {\n      ...options,\n      signal: controller.signal\n    });\n    clearTimeout(id);\n    if (!response.ok) throw new Error(\"Failed to fetch data\");\n    return response.json();\n  } catch (error) {\n    if (error.name === \"AbortError\") {\n      throw new Error(\"Request timed out. Backend might be down.\");\n    }\n    throw new Error(\"Failed to fetch data. Backend might be down.\");\n  }\n};\nexport const fetchDriverResults = async (grandPrixName, sessionType) => {\n  return fetchWithTimeout(`${API_BASE_URL}/api/sessions/${grandPrixName}?session_type=${sessionType}`);\n};\nexport { fetchWithTimeout, API_BASE_URL };","map":{"version":3,"names":["API_BASE_URL","fetchWithTimeout","url","options","timeout","controller","AbortController","id","setTimeout","abort","response","fetch","signal","clearTimeout","ok","Error","json","error","name","fetchDriverResults","grandPrixName","sessionType"],"sources":["/home/benek/react-native/whenf1/frontend/src/api.js"],"sourcesContent":["const API_BASE_URL = \"http://localhost:5000\";\n\nconst fetchWithTimeout = async (url, options = {}, timeout = 60000) => {\n  const controller = new AbortController();\n  const id = setTimeout(() => controller.abort(), timeout);\n\n  try {\n    const response = await fetch(url, { \n      ...options, \n      signal: controller.signal \n    });\n    clearTimeout(id);\n    if (!response.ok) throw new Error(\"Failed to fetch data\");\n    return response.json();\n  } catch (error) {\n    if (error.name === \"AbortError\") {\n      throw new Error(\"Request timed out. Backend might be down.\");\n    }\n    throw new Error(\"Failed to fetch data. Backend might be down.\");\n  }\n};\n\nexport const fetchDriverResults = async (grandPrixName, sessionType) => {\n  return fetchWithTimeout(\n    `${API_BASE_URL}/api/sessions/${grandPrixName}?session_type=${sessionType}`\n  );\n};\n\nexport { fetchWithTimeout, API_BASE_URL };"],"mappings":"AAAA,MAAMA,YAAY,GAAG,uBAAuB;AAE5C,MAAMC,gBAAgB,GAAG,MAAAA,CAAOC,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAEC,OAAO,GAAG,KAAK,KAAK;EACrE,MAAMC,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;EACxC,MAAMC,EAAE,GAAGC,UAAU,CAAC,MAAMH,UAAU,CAACI,KAAK,CAAC,CAAC,EAAEL,OAAO,CAAC;EAExD,IAAI;IACF,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAACT,GAAG,EAAE;MAChC,GAAGC,OAAO;MACVS,MAAM,EAAEP,UAAU,CAACO;IACrB,CAAC,CAAC;IACFC,YAAY,CAACN,EAAE,CAAC;IAChB,IAAI,CAACG,QAAQ,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;IACzD,OAAOL,QAAQ,CAACM,IAAI,CAAC,CAAC;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,IAAIA,KAAK,CAACC,IAAI,KAAK,YAAY,EAAE;MAC/B,MAAM,IAAIH,KAAK,CAAC,2CAA2C,CAAC;IAC9D;IACA,MAAM,IAAIA,KAAK,CAAC,8CAA8C,CAAC;EACjE;AACF,CAAC;AAED,OAAO,MAAMI,kBAAkB,GAAG,MAAAA,CAAOC,aAAa,EAAEC,WAAW,KAAK;EACtE,OAAOpB,gBAAgB,CACrB,GAAGD,YAAY,iBAAiBoB,aAAa,iBAAiBC,WAAW,EAC3E,CAAC;AACH,CAAC;AAED,SAASpB,gBAAgB,EAAED,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}